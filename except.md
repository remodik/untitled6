# –ò—Å–∫–ª—é—á–µ–Ω–∏—è –≤ C++

–ò—Å–∫–ª—é—á–µ–Ω–∏—è (**exceptions**) –≤ C++ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –∏ –∏—Å–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã. –û–Ω–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–∑ –æ–¥–Ω–æ–π —á–∞—Å—Ç–∏ –∫–æ–¥–∞ –≤ –¥—Ä—É–≥—É—é, –Ω–µ –∑–∞–≤–µ—Ä—à–∞—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–∞–º–º—ã.

## üîπ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞:

- `try` ‚Äî –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –±–ª–æ–∫ –∫–æ–¥–∞, –≤ –∫–æ—Ç–æ—Ä–æ–º –º–æ–≥—É—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏—è.
- `catch` ‚Äî –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∏—Å–∫–ª—é—á–µ–Ω–∏—è, –≤–æ–∑–Ω–∏–∫—à–∏–µ –≤ –±–ª–æ–∫–µ `try`.
- `throw` ‚Äî –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è.

–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

```cpp
#include <iostream>
using namespace std;

void check(int x) {
    if (x < 0)
        throw runtime_error("–ß–∏—Å–ª–æ –º–µ–Ω—å—à–µ –Ω—É–ª—è!");
    cout << "–ß–∏—Å–ª–æ: " << x << endl;
}

int main() {
    try {
        check(-5);
    } catch (const exception& e) {
        cout << "–û—à–∏–±–∫–∞: " << e.what() << endl;
    }
    return 0;
}
```

## üîπ –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã –∏—Å–∫–ª—é—á–µ–Ω–∏–π

C++ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –≥–æ—Ç–æ–≤—ã–µ –∫–ª–∞—Å—Å—ã –∏—Å–∫–ª—é—á–µ–Ω–∏–π (–∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–π —Ñ–∞–π–ª `<stdexcept>`):

- `std::logic_error` ‚Äî –æ—à–∏–±–∫–∏, –≤—ã—è–≤–ª—è–µ–º—ã–µ –¥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏).
- `std::runtime_error` ‚Äî –æ—à–∏–±–∫–∏, –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ–º—ã–µ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.
- `std::range_error` ‚Äî –≤—ã—Ö–æ–¥ –∑–∞ –¥–æ–ø—É—Å—Ç–∏–º—ã–µ –≥—Ä–∞–Ω–∏—Ü—ã.
- `std::overflow_error` ‚Äî –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–µ.

## üîπ –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π

–ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã –∏—Å–∫–ª—é—á–µ–Ω–∏–π, –Ω–∞—Å–ª–µ–¥—É—è –∏—Ö –æ—Ç `std::exception`:

```cpp
#include <iostream>
#include <exception>
using namespace std;

class MyException : public exception {
public:
    const char* what() const noexcept override {
        return "–ú–æ—ë –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ –∏—Å–∫–ª—é—á–µ–Ω–∏–µ!";
    }
};

int main() {
    try {
        throw MyException();
    } catch (const exception& e) {
        cout << "–û—à–∏–±–∫–∞: " << e.what() << endl;
    }
    return 0;
}
```

## üîπ –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π

–ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –±–ª–æ–∫–æ–≤ `catch` –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∏—Å–∫–ª—é—á–µ–Ω–∏–π:

```cpp
try {
    // –ö–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ
} catch (const std::overflow_error& e) {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è
} catch (const std::runtime_error& e) {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
} catch (...) {
    // –ü–µ—Ä–µ—Ö–≤–∞—Ç –ª—é–±—ã—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π
}
```

## üîπ –ü–µ—Ä–µ–≤—ã–±—Ä–æ—Å –∏—Å–∫–ª—é—á–µ–Ω–∏–π

–ò–Ω–æ–≥–¥–∞ –±—ã–≤–∞–µ—Ç –ø–æ–ª–µ–∑–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –≤—ã—à–µ –ø–æ —Å—Ç–µ–∫—É –≤—ã–∑–æ–≤–æ–≤:

```cpp
void func() {
    try {
        throw runtime_error("–û—à–∏–±–∫–∞ –≤ func()");
    } catch (...) {
        cout << "–ü–µ—Ä–µ–≤—ã–±—Ä–æ—Å –∏—Å–∫–ª—é—á–µ–Ω–∏—è" << endl;
        throw; // –ü–µ—Ä–µ–¥–∞—á–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏—è –¥–∞–ª—å—à–µ
    }
}

int main() {
    try {
        func();
    } catch (const exception& e) {
        cout << "–ü–µ—Ä–µ—Ö–≤–∞—á–µ–Ω–æ –≤ main(): " << e.what() << endl;
    }
    return 0;
}
```

## üèÅ –ò—Ç–æ–≥

- –ò—Å–∫–ª—é—á–µ–Ω–∏—è –ø–æ–º–æ–≥–∞—é—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –æ—à–∏–±–∫–∞–º–∏ –≤ C++.
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ `try`, `catch`, `throw`.
- –ï—Å—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã –∏—Å–∫–ª—é—á–µ–Ω–∏–π (`std::runtime_error`, `std::logic_error` –∏ –¥—Ä.).
- –ú–æ–∂–Ω–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å —Å–≤–æ–∏ –∫–ª–∞—Å—Å—ã –∏—Å–∫–ª—é—á–µ–Ω–∏–π.
- –ò—Å–∫–ª—é—á–µ–Ω–∏—è –º–æ–∂–Ω–æ –ø–µ—Ä–µ–≤—ã–±—Ä–∞—Å—ã–≤–∞—Ç—å –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –Ω–∞ –±–æ–ª–µ–µ –≤—ã—Å–æ–∫–æ–º —É—Ä–æ–≤–Ω–µ.

> üìå –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–µ–ª–∞—é—Ç –∫–æ–¥ –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω—ã–º –∏ —É–¥–æ–±–Ω—ã–º –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏!